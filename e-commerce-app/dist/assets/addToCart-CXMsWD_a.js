import{g as m,s as S,u as C,p as q}from"./showToast-C6LeQY_f.js";const f=(e,t)=>{let a=m().find(i=>i.id===e),r=1;return a&&(r=a.quantity,t=a.price),{quantity:r,price:t}},y=()=>{let e=document.querySelector(".productSubTotal"),t=document.querySelector(".productFinalTotal"),r=m().reduce((i,u)=>{let o=parseInt(u.price)||0;return i+o},0);console.log(r),r===0?(e.textContent="₹0",t.textContent="₹0"):(e.textContent=`₹${r}`,t.textContent=`₹${r+5}`)},g=e=>{let t=m();t=t.filter(a=>a.id!==e),localStorage.setItem("cartProdLS",JSON.stringify(t));let c=document.getElementById(`card${e}`);c&&(c.remove(),S("delete",e)),C(t),y()},P=(e,t,c,a)=>{const r=document.querySelector(`#card${t}`),i=r.querySelector(".productQuantity"),u=r.querySelector(".productPrice");let o=1,l=0,n=m(),d=n.find(p=>p.id===t);d?(o=d.quantity,l=d.price):(l=a,a=a),e.target.className==="cartIncrement"&&(o<c?o++:o===c&&(o=c,l=a*c)),e.target.className==="cartDecrement"&&o>1&&o--,l=a*o,l=Number(l.toFixed(2));let s={id:t,quantity:o,price:l};s=n.map(p=>p.id===t?s:p),localStorage.setItem("cartProdLS",JSON.stringify(s)),i.textContent=o,u.textContent=`₹${l}`,y()};let x=m(),D=q.filter(e=>x.some(t=>t.id===e.id));const v=document.querySelector("#productCartContainer"),E=document.querySelector("#productCartTemplate"),N=()=>{D.forEach(e=>{const{brand:t,category:c,description:a,id:r,image:i,name:u,price:o,stock:l}=e,n=document.importNode(E.content,!0),d=f(r,o);n.querySelector("#cardValue").setAttribute("id",`card${r}`),n.querySelector(".category").textContent=c,n.querySelector(".productName").textContent=u,n.querySelector(".productImage").src=i,n.querySelector(".productPrice").textContent=`₹${d.price}`,n.querySelector(".productQuantity").textContent=d.quantity,n.querySelector(".remove-to-cart-button").addEventListener("click",()=>g(r)),n.querySelector(".stockElement").addEventListener("click",s=>{P(s,r,l,o)}),v.appendChild(n)})};N();y();
