import{g as m,s as p,u as y,p as S}from"./showToast-C6LeQY_f.js";const q=(r,n,a)=>{const e=document.querySelector(`#card${n}`).querySelector(".productQuantity");let t=parseInt(e.getAttribute("data-quantity"))||1;return r.target.className==="cartIncrement"&&(t<a?t+=1:t===a&&(t=a)),r.target.className==="cartDecrement"&&t>1&&(t-=1),e.innerText=t,e.setAttribute("data-quantity",t.toString()),t};document.addEventListener("DOMContentLoaded",()=>{m()});const g=r=>{let n=m();const a=document.querySelector(`#card${r}`);let o=a.querySelector(".productQuantity").innerText,e=a.querySelector(".productPrice").innerText;e=e.replace("₹","");let t=n.find(u=>u.id===r);if(t&&o>1){o=Number(t.quantity)+Number(o),e=Number(e*o);let u={id:r,quantity:o,price:e};u=n.map(d=>d.id===r?u:d),localStorage.setItem("cartProdLS",JSON.stringify(u)),p("add",r)}if(t)return!1;e=Number(e*o),o=Number(o),n.push({id:r,quantity:o,price:e}),localStorage.setItem("cartProdLS",JSON.stringify(n)),y(n),p("add",r)},f=document.querySelector("#productContainer"),C=document.querySelector("#productTemplate"),N=r=>{r&&r.forEach(n=>{const{brand:a,category:o,description:e,id:t,image:u,name:d,price:i,stock:l}=n,c=document.importNode(C.content,!0);c.querySelector("#cardValue").setAttribute("id",`card${t}`),c.querySelector(".productName").textContent=d,c.querySelector(".productImage").src=u,c.querySelector(".productImage").alt=d,c.querySelector(".productDescription").innerText=e,c.querySelector(".productStock").innerText=l,c.querySelector(".productPrice").textContent=`₹${i}`,c.querySelector(".productActualPrice").textContent=`₹${i*2}`,c.querySelector(".stockElement").addEventListener("click",s=>{q(s,t,l)}),c.querySelector(".add-to-cart-button").addEventListener("click",s=>{g(t)}),f.append(c)})};N(S);
